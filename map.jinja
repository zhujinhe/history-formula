# vim: sts=2 ts=2 sw=2 et ai

{% set history = salt['grains.filter_by']({
  'RedHat': {
    'conf_directory': '/etc/profile.d',
    'logrotate_conf_directory': '/etc/logrotate.d',
    'logrotate_package': 'logrotate',
    'conf_file': 'history.sh',
    'scripts_list': [
      '/etc/sysconfig/bash-prompt-xterm',
      '/etc/sysconfig/bash-prompt-screen',
      '/etc/sysconfig/bash-prompt-default',
      ],
    'login_split': '<login>',
    'log_directory': '/var/log/history',
    'log_file': 'history.log',
    'logrotate': True,
    'logrotate_conf_file': 'history',
    'rotate_frequency': 'yearly',
    'rotate_keep': 5,
  },
}, merge = salt['pillar.get']('history',{})) %}
